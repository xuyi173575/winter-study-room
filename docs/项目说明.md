# 冬日书房 - 项目说明文档

## 项目概述

**冬日书房**是一个充满温暖和个性化细节的互动网页应用，作为圣诞礼物送给摄影师朋友。这不是一次性的惊喜，而是一个可以持续使用的实用工具。

## 核心价值

每次她修图、阅读、冥想时，都会打开这个网页，想起你的用心。这是一个可以持续陪伴她的小工具。

## 技术实现

### 前端架构
- **框架**: React 18 + TypeScript
- **构建工具**: Vite
- **UI组件**: shadcn/ui
- **样式**: Tailwind CSS
- **状态管理**: React Hooks
- **数据持久化**: localStorage

### 核心功能实现

#### 1. 音频系统 (`useAudioManager.ts`)
- 使用 Web Audio API 实现音频播放
- 支持4种环境音的独立音量控制
- 实现音频循环播放
- 支持全局静音功能
- 音量变化实时响应

#### 2. 场景组件

**Window.tsx - 窗户组件**
- 使用 CSS 动画实现雪花飘落效果
- 随机生成20个雪花，每个有不同的延迟和持续时间
- 点击交互：增加雨声音量

**Bookshelf.tsx - 书架组件**
- 3层书架，每层4本书
- 第4本书（草莓书）触发特殊祝福
- 其他书本触发随机名言
- 悬停效果：书本上移

**Fireplace.tsx - 壁炉组件**
- 5个火焰元素，使用 CSS 动画模拟跳动
- 点燃动画：从小到大的缩放效果（3秒）
- 火光效果：径向渐变 + 脉冲动画

**CoffeeCup.tsx - 咖啡杯组件**
- 3个蒸汽元素，循环上升动画
- 点击触发名言显示

**Crab.tsx - 螃蟹组件**
- 点击触发横向移动动画（4秒）
- 使用 emoji 实现简洁的视觉效果

#### 3. 控制面板 (`ControlPanel.tsx`)
- 4个音量滑块，实时显示百分比
- 定时器功能：
  - 支持1-180分钟设置
  - 倒计时显示（MM:SS格式）
  - 时间到自动停止所有音效
  - 快捷按钮：15/25/45/60分钟

#### 4. 数据持久化
- 使用 localStorage 保存用户偏好
- 保存内容：
  - 各音效的音量设置
  - 篝火点燃状态
- 页面加载时自动恢复设置

### 设计系统

#### 配色方案
```css
/* 背景色 */
--background: 30 35% 92%;        /* 米白色 #F5EBE0 */
--background-cream: 35 30% 88%;  /* 奶油色 #E8DCC8 */

/* 木质色 */
--primary: 25 25% 35%;           /* 棕色 #6B5548 */
--secondary: 25 30% 22%;         /* 深棕色 #4A3428 */

/* 强调色 */
--accent: 0 60% 51%;             /* 草莓红 #C93D3D */
--flame: 20 75% 56%;             /* 琥珀橙 #E07B39 */
--gold: 45 100% 50%;             /* 金黄 #FFD700 */

/* 冬日蓝 */
--sky: 200 50% 82%;              /* #B8D4E8 */
--sky-light: 200 45% 88%;        /* #D4E4F0 */
```

#### 字体系统
- **标题**: Cormorant Garamond（优雅衬线体）
- **正文**: Crimson Pro（可读性强的衬线体）
- 通过 Google Fonts 引入

#### 动画效果
```css
/* 雪花飘落 */
@keyframes snowfall { ... }

/* 火焰跳动 */
@keyframes flame { ... }

/* 蒸汽上升 */
@keyframes steam { ... }

/* 螃蟹走动 */
@keyframes crab-walk { ... }

/* 点燃效果 */
@keyframes ignite { ... }
```

## 个性化元素

### 1. 草莓元素
- 草莓红色书本（第4本）
- 点击触发专属圣诞祝福
- 配色中使用草莓红作为强调色
- 名言中提到草莓的寓意

### 2. 螃蟹元素
- 场景右下角的小螃蟹
- 点击可以看它横着走
- 名言中的寓意："有些路需要换个方向"

### 3. 阅读元素
- 整个书房场景
- 12本可点击的书
- 翻书音效
- 关于阅读的名言

### 4. 摄影师元素
- 关于光影的名言
- 考究的美学设计
- 整体视觉呈现符合摄影师品味

## 文案内容

### 名言库（6条）
1. 摄影是瞬间的艺术，而生活是持续的修行。
2. 光影之间，藏着这世界最温柔的秘密。
3. 每一张照片都是时间的挽留。
4. 冬天的意义，是为了让温暖更珍贵。
5. 螃蟹横着走，是因为它知道，有些路需要换个方向。
6. 草莓之所以甜，是因为它愿意把最好的留到最后。

### 圣诞祝福（草莓书彩蛋）
```
亲爱的朋友，

愿你的镜头永远捕捉到光，
愿你的书架永远装满故事，
愿这个冬天的每一天，
都像篝火旁一样温暖。

圣诞快乐！

愿我们的友谊像这火焰一样，越燃越旺
```

## 使用场景

### 1. 修图时
- 专注的背景音
- 建议配置：篝火70% + 白噪音40%
- 设置60分钟定时器

### 2. 阅读时
- 氛围营造
- 建议配置：篝火50% + 翻书30% + 雨声20%
- 点击书本查看名言

### 3. 工作学习时
- 白噪音帮助专注
- 建议配置：白噪音60%
- 使用番茄钟（25分钟）

### 4. 冥想放松
- 舒缓的环境音
- 建议配置：雨声60% + 白噪音30%

### 5. 助眠
- 温和的背景音
- 建议配置：雨声50% + 白噪音40%

## 部署说明

### 音频文件准备
当前使用占位符URL，实际部署需要：

1. 准备4个高质量音频文件（MP3格式）：
   - fire.mp3 - 篝火声（建议：柴火燃烧的噼啪声）
   - rain.mp3 - 雨声（建议：温和的雨声，不要雷声）
   - book.mp3 - 翻书声（建议：纸张翻动的声音）
   - noise.mp3- 白噪音（建议：温和的白噪音或海浪声）

2. 音频要求：
   - 格式：MP3
   - 时长：至少30秒（用于循环）
   - 音质：高质量，无杂音
   - 音量：已均衡处理

3. 放置位置：`public/audio/`

4. 修改配置：`src/hooks/useAudioManager.ts`

### 构建和部署
```bash
# 安装依赖
npm install

# 本地开发
npm run dev

# 构建生产版本
npm run build

# 预览构建结果
npm run preview
```

### 推荐部署平台
- Vercel（推荐，零配置）
- Netlify
- GitHub Pages
- 任何支持静态网站的服务器

## 浏览器兼容性

- Chrome/Edge ≥ 90
- Firefox ≥ 88
- Safari ≥ 14

## 未来扩展可能

### 功能扩展
1. 更多环境音选项（海浪、森林、咖啡厅）
2. 自定义音频上传
3. 场景切换（春夏秋冬）
4. 更多互动彩蛋
5. 背景音乐播放列表

### 技术优化
1. 音频预加载优化
2. 渐进式Web应用（PWA）
3. 离线支持
4. 音频可视化效果

## 项目特色

### 1. 避免常见AI设计感
- ❌ 不使用 Inter、Roboto 等常见字体
- ❌ 不使用紫色渐变
- ❌ 不使用过度的圣诞红绿配色
- ✅ 使用优雅的衬线字体
- ✅ 温暖的米白色到奶油色渐变
- ✅ 手绘插画风格

### 2. 注重细节
- 每个元素都有悬停效果
- 动画流畅自然
- 配色考究
- 文案用心

### 3. 实用性
- 不是一次性惊喜
- 可以持续使用
- 真正解决需求（专注、放松）
- 数据持久化

## 开发总结

### 技术亮点
1. 纯前端实现，无需后端
2. 响应式设计，支持桌面和移动端
3. 优雅的动画效果
4. 完善的音频控制系统
5. 用户偏好持久化

### 代码质量
- TypeScript 类型安全
- 组件化设计
- 代码注释清晰
- 通过 lint 检查

### 设计质量
- 符合需求的美学定位
- 温暖治愈的视觉体验
- 考究的细节处理
- 充满个性化元素

---

**献给所有需要温暖和专注的时刻** ❄️🔥📚
